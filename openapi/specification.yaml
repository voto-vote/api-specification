openapi: "3.0.0"
info:
  title: VOTO - VOTE ADVICE APPLICATION API
  description: |
    <h3>Defines a common interface for vote advice applications</h3>
    To secure the API, we use different roles within our system. The following table shows the permissions of each role for each entity.
    It does not reflect reality perfectly. Creator can obviously only create candidates for its own application etc, but the table should give you an idea of how the roles work.

      |             | Admin | Creator | TrustPerson | Candidate | Anonymous |
      |-------------|-------|---------|-------------|-----------|-----------|
      | Election    | CRUD  | R       | R           | R         | R         |
      | Candidate   | CRUD  | CRUD    | CRUD        | RU        | R         |
      | CandidateVotes   | CRUD  | CRUD    | CRUD        | RU        | R         |
      | Party       | CRUD  | CRUD    | RU          | R         | R         |
      | PartyVotes       | CRUD  | CRUD    | RU          | R         | R         |
      | Application | CRUD  | CRUD    | R           | R         | R         |
      | Theses      | CRUD  | CRUD    | R           | R         | R         |
      | Votings     | R     | CR      | CRU         | CRU       | CR        |
      | Trustperson | CRUD  | CRUD    | CRUD        | R         | -         |
      | Creator     | CRUD  | CRUD    | R           | R         | -         |
      | Admins      | CRUD  | R       | -           | -         | -         |
      | Users       | CRUD  | CR      | CR          | RUD       | -         |

      ***C* = Create<br>**
      ***R* = Read<br>**
      ***U* = Update<br>**
      ***D* = Delete<br>**

  version: 0.0.1
  contact:
    name: API Support
    url: https://voto.vote/
    email: help@voto.vote
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: https://{environment}.voto.vote/{version}
    description: "VOTO API Endpoint"
    variables:
      environment:
        default: api # Production server
        enum:
          - api # Production server
          - dev.api # Development server
      version:
        default: v1
        enum:
          - v1
          - v2
tags:
  - name: Election
    description: Objects related to elections
  - name: VAA
    description: Objects related to Vote advice applications
  - name: API
    description: About this API
  - name: Vote
    description: Endpoints for everything vote related
  - name: Roles
    description: Management endpoints for roles within the VOTO platform. Please note, that candidates are handled in /elections endpoints as they are the only entity which is directly related to a match, whereas a party can have multiple TrustPersons

components:
  securitySchemes:
    firebase:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        We currently use Firebase as Authentication Provider. In order to use parts of the API, you have to have a valid account and role. Retrieve this idToken here https://firebase.google.com/docs/reference/rest/auth#section-sign-in-email-password

x-amazon-apigateway-request-validators:
  all:
    validateRequestBody: true
    validateRequestParameters: true

x-amazon-apigateway-request-validator: all

paths:
  /:
    get:
      tags:
        - API
      summary: Get info about this API
      operationId: getAPIInfo
      parameters:
        - name: version
          in: query
          description: Version of API
          schema:
            type: string
            example: "v1"
      responses:
        "200":
          description: |-
            200 response
        "400":
          description: |-
            400 response - Malformed request
  /elections:
    get:
      tags:
        - Election
      summary: Fetches array of Elections
      description: |
        Fetching elections is allowed for the `creator` and `admin` role.
      operationId: getElections
      security:
        - firebase: []
      parameters:
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for election name
          schema:
            type: string
            example: "Bundestagswahl"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Election.yaml#/Elections"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - Election
      summary: Create Election object
      description: |
        Creating elections is allowed for the `admin` role.
      operationId: creatElection
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: "schemas/Election.yaml#/NewElection"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Election.yaml#/Election"
          links:
            GetElectionById:
              operationId: getElection
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **electionId** parameter in `GET /elections/{electionId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
  /elections/{electionId}:
    get:
      tags:
        - Election
      summary: Get single Election
      description: |
        Fetching one single election by its ID is allowed for everyone.
      operationId: getElection
      parameters:
        - in: path
          name: electionId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the election to get
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Election.yaml#/Election"
          links:
            GetElectionById:
              operationId: getElection
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **electionId** parameter in `GET /elections/{electionId}`.
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - Election
      summary: Update Election object
      description: |
        Updating one single election by its ID is allowed for the `admin` role.
      operationId: putElection
      security:
        - firebase: []
      parameters:
        - in: path
          name: electionId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the election to put
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Election.yaml#/NewElection"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Election.yaml#/Election"
          links:
            GetElectionById:
              operationId: getElection
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **electionId** parameter in `GET /elections/{electionId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - Election
      summary: Delete Election object
      description: |
        Deleting one single election by its ID is allowed for the `admin` role.
      operationId: deleteElection
      security:
        - firebase: []
      parameters:
        - in: path
          name: electionId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the election to delete
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /elections/{electionId}/applications:
    get:
      tags:
        - Election
      summary: Fetches array of applications for one specific instance
      description: |
        Fetching applications is for one specific election is only allowed for the `admin` role.
      operationId: getApplicationsForElection
      security:
        - firebase: []
      parameters:
        - name: electionId
          required: true
          in: path
          description: Defines the election 
          schema:
            type: integer
            example: 1
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for application title
          schema:
            type: string
            example: "Bundestagswahl"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Application.yaml#/Applications"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications:
    get:
      tags:
        - VAA
      summary: Fetches array of VAA's
      operationId: getApplications
      description: |
        Fetching applications is allowed for `admin`
      security:
        - firebase: []
      parameters:
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for application title
          schema:
            type: string
            example: "VOTO"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Application.yaml#/Applications"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA
      summary: Create VAA object
      operationId: createApplication
      description: |
        Creating applications is allowed for `admin`
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Application.yaml#/NewApplication"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Application.yaml#/Application"
          links:
            GetApplicationById:
              operationId: getApplication
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **applicationId** parameter in `GET /applications/{applicationId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /clusters:
    get:
      tags:
        - VAA
      summary: Fetches array of clusters
      operationId: getClusters
      description: |
        Fetching clusters is allowed for `admin`
      security:
        - firebase: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Cluster.yaml#/Cluster"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA
      summary: Create Cluster object
      operationId: createCluster
      description: |
        Creating clusters is allowed for `admin`
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Cluster.yaml#/NewCluster"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Cluster.yaml#/Cluster"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /clusters/{clusterId}:
    get:
      tags:
        - VAA
      summary: Fetches single cluster
      description: |
        Fetching one cluster is allowed for everyone
      operationId: getCluster
      parameters:
        - in: path
          name: clusterId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the Cluster
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Cluster.yaml#/Cluster"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA
      summary: Update Cluster object
      description: |
        Updating one cluster is allowed for `admin` and `creator` (for its own applications)
      operationId: putCluster
      security:
        - firebase: []
      parameters:
        - in: path
          name: clusterId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the Cluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Cluster.yaml#/NewCluster"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Cluster.yaml#/Cluster"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA
      summary: Remove Cluster object
      description: |
        Updating one cluster is allowed for `admins`
      operationId: removeCluster
      security:
        - firebase: []
      parameters:
        - in: path
          name: clusterId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the Cluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Cluster.yaml#/NewCluster"
      responses:
        "204":
          description: No content
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /themes:
    get:
      tags:
        - VAA
      summary: Fetches array of themes.
      operationId: getThemes
      description: |
        Fetching themes is allowed for `admin` and `creators`
      security:
        - firebase: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Theme.yaml#/Theme"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA
      summary: Create theme object
      operationId: createTheme
      description: |
        Creating themes is allowed for `admin` and `creators`
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Theme.yaml#/NewTheme"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Theme.yaml#/Theme"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /themes/{themeId}:
    get:
      tags:
        - VAA
      summary: Fetches single theme
      description: |
        Fetching one theme is allowed for everyone
      operationId: getTheme
      parameters:
        - in: path
          name: themeId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the theme
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Theme.yaml#/Theme"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA
      summary: Update theme object
      description: |
        Updating one theme is allowed for `admin` and `creator` (for its own applications)
      operationId: putTheme
      security:
        - firebase: []
      parameters:
        - in: path
          name: themeId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the theme
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Theme.yaml#/Theme"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Theme.yaml#/Theme"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA
      summary: Delete theme object
      description: |
        Deleting one theme is allowed for `admin` and `creator` (for its own applications)
      operationId: deleteTheme
      security:
        - firebase: []
      parameters:
        - in: path
          name: themeId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the theme
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}:
    get:
      tags:
        - VAA
      summary: Fetches single VAA
      description: |
        Fetching one application is allowed for everyone
      operationId: getApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Application.yaml#/Application"
          links:
            GetApplicationById:
              operationId: getApplication
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **applicationId** parameter in `GET /applications/{applicationId}`.
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA
      summary: Update VAA object
      description: |
        Updating one application is allowed for `admin` and `creator` (for its own applications)
      operationId: putApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Application.yaml#/NewApplication"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Application.yaml#/Application"
          links:
            GetApplicationById:
              operationId: getApplication
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **applicationId** parameter in `GET /applications/{applicationId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA
      summary: Delete VAA object
      description: |
        Deleting one application is allowed for `admin` and `creator` (for its own applications)
      operationId: deleteApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/theses/{language}:
    get:
      tags:
        - VAA
      summary: Fetches all theses for one VAA
      description: |
        Fetching one applications theses is allowed for everyone
      operationId: getThesesForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: language
          schema:
            type: string
            example: "de"
            default: ""
          required: true
          description: Language identification string, e.g. 'de'
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                items:
                  type: object
                  $ref: "schemas/These.yaml#/These"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA
      summary: Add these
      description: |
        Adding application theses is allowed for `admin` and `creator` (for its own applications)
      operationId: createTheseForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: language
          required: true
          schema:
            type: string
            example: "de"
            default: ""
          description: Language identification string, e.g. 'de'
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/These.yaml#/NewThese"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/These.yaml#/These"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/theses/{language}/{theseId}:
    get:
      tags:
        - VAA
      summary: Fetches single these of one VAA
      description: |
        Fetching one applications these is allowed for everyone
      operationId: getSpecificTheseForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: language
          required: true
          schema:
            type: string
            example: "de"
            default: ""
          description: Language identification string, e.g. 'de'
        - in: path
          name: theseId
          required: true
          description: Numeric ID of the these
          schema:
            type: integer
            format: int64
            example: 123
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/These.yaml#/These"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA
      summary: Update single these
      description: |
        Updating application theses is allowed for `admin` and `creator` (for its own applications)
      operationId: updateSpecificTheseForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: language
          required: true
          description: Language identification string, e.g. 'de'
          schema:
            type: string
            example: "de"
            default: ""
        - in: path
          name: theseId
          required: true
          schema:
            type: integer
            format: int64
          description:  Numeric ID of the these
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/These.yaml#/NewThese"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/These.yaml#/These"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA
      summary: Delete specific these of application
      description: |
        Deleting a specific these for one application is allowed for `admin`, `creator` (within his application)
      operationId: deleteSpecificTheseForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: language
          required: true
          schema:
            type: integer
            format: int64
          description: Language identification string, e.g. 'de'
        - in: path
          name: theseId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the these
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /vote:
    post:
      tags:
        - Vote
      summary: Submit a new voting for an VAA
      description: |
        Creation of votings is allowed for everyone. Please note, that we still prevent CORS requests.
      operationId: createVotingForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Voting.yaml#/NewVoting"
      responses:
        "201":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Voting.yaml#/Voting"
          links:
            GetVoteById:
              operationId: getVotingForApplication
              parameters:
                voteId: "$response.body#/id"
                applicationId: "$response.body#/application_id"
              description: >
                The `id` value returned in the response can be used as
                The `application_id` value returned in the response can be used as
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
  
  /events:
    post:
      tags:
        - VAA
      summary: Create new custom event for application
      description: |
        Create new custom event for application
      operationId: createMetricsEvent
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: integer
      responses:
        "201":
          description: No content
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
  

  /applications/{applicationId}/matches/candidates:
    get:
      tags:
        - VAA/Matches
      summary: Get candidates for application
      operationId: getCandidatesForApplication
      description: |
        Fetching candidates for one single application by its ID is allowed for everyone.
      parameters:
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for candidate last name
          schema:
            type: string
            example: "Mustermann"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to get
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Candidates"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA/Matches
      summary: Create new candidate for application
      description: |
        Creation of candidates is allowed for `admin`, `creator` (only in his application) and `trustperson` (only for his party)
      operationId: createCandidatesForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to get
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewCandidate"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                candidateId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/candidates/{candidateId}:
    get:
      tags:
        - VAA/Matches
      summary: Get single candidate
      description: |
        Fetching a candidate for one application is allowed for everyone.
      operationId: getCandidateForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to get
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to get
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA/Matches
      summary: Change candidate for application
      description: |
        Changing a candidate for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party) and one `candidate` for itself.
      operationId: putCandidateForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to put
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewCandidate"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - VAA/Matches
      summary: Toggle candidate status
      description: |
        Toggle candidates is allowed for admins, creators ( their own application ) and trustpersons ( their own party )
      operationId: toggleCandidateForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/ToggleRole"
      responses:
        "200":
          description: Success
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA/Matches
      summary: Delete candidate object
      description: |
        Deleting a candidate for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party) and one `candidate` for itself.
      operationId: deleteCandidateForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to delete
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties/{partyId}/candidates/{candidateId}/picture:
    put:
      tags:
        - VAA/Matches
      summary: Change candidates profile picture
      description: |
        Changing a candidates profile picture for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party) and one `candidate` for itself.
      operationId: putCandidatesPictureForApplicationAndParty
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to put
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party to put
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                candidateId:
                  type: integer
                image:
                  type: string
                  format: binary
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/candidates/{candidateId}/picture:
    put:
      tags:
        - VAA/Matches
      summary: Change candidates profile picture
      description: |
        Changing a candidates profile picture for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party) and one `candidate` for itself.
      operationId: putCandidatesPictureForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to put
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                candidateId:
                  type: integer
                image:
                  type: string
                  format: binary
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/candidates/{candidateId}/votes:
    get:
      tags:
        - VAA/Matches
      summary: Get votes of a candidate
      description: |
        Fetching a candidates votes for one application is allowed for everyone.
      operationId: getVotingsForCandidate
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to get
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to get
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Voting.yaml#/CandidateVote"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA/Matches
      summary: Change candidate votes for application
      description: |
        Changing a candidates votes for one application is allowed for `admin` and one `candidate` for itself.
      operationId: putCandidateVotes
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to put
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Voting.yaml#/Vote"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Voting.yaml#/CandidateVote"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties:
    get:
      tags:
        - VAA/Matches
      summary: Get parties for application
      operationId: getPartiesForApplication
      description: |
        Fetching parties for one application is allowed for everyone.
      parameters:
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for party detailed name
          schema:
            type: string
            example: "party detailed name"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Party.yaml#/Parties"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA/Matches
      summary: Create new party for application
      description: |
        Creating parties for one application is allowed for `admin` and `creator` (for its own application)
      operationId: createPartyForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Party.yaml#/NewParty"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Party.yaml#/Party"
          links:
            GetPartyById:
              operationId: getPartyForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **partyId** parameter in `GET /applications/{applicationId}/matches/parties/{partyId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties/{partyId}:
    get:
      tags:
        - VAA/Matches
      summary: Get single party
      description: |
        Fetching one party for one application by its ID is allowed for everyone.
      operationId: getPartyForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Party.yaml#/Party"
          links:
            GetPartyById:
              operationId: getPartyForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **partyId** parameter in `GET /applications/{applicationId}/matches/parties/{partyId}`.
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA/Matches
      summary: Change party for application
      description: |
        Changing a party for one application is allowed for `admin`, `creator` and the `trustperson` for its own party.
      operationId: putPartyForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Party.yaml#/NewParty"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Party.yaml#/Party"
          links:
            GetPartyById:
              operationId: getPartyForApplication
              parameters:
                electionId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **partyId** parameter in `GET /applications/{applicationId}/matches/parties/{partyId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - VAA/Matches
      summary: Toggle party status
      description: |
        Toggle party is allowed for admins and creators ( their own application )
      operationId: togglePartyForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/ToggleRole"
      responses:
        "200":
          description: Success
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA/Matches
      summary: Delete party object
      description: |
        Deleting a party for one application is allowed for `admin`, `creator` and `trustperson` for its own party.
      operationId: deletePartyForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties/{partyId}/logo:
    put:
      tags:
        - VAA/Matches
      summary: Change party profile picture
      description: |
        Changing a party logo for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party)
      operationId: putPartyPictureForApplication
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party to put
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                partyId:
                  type: integer
                image:
                  type: string
                  format: binary
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                $ref: "schemas/Party.yaml#/Party"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties/{partyId}/candidates:
    get:
      tags:
        - VAA/Matches
      summary: Get candidates for party
      description: |
        Fetching candidates for one party within one application by its ID is allowed for everyone.
      operationId: getCandidatesForPartyWithinApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetPartyById:
              operationId: getPartyForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **partyId** parameter in `GET /applications/{applicationId}/matches/parties/{partyId}`.
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - VAA/Matches
      summary: Create new candidate for application
      description: |
        Creation of candidates is allowed for `admin`, `creator` (only in his application) and `trustperson` (only for his party)
      operationId: createCandidatesForApplicationAndParty
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to get
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewCandidate"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                candidateId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties/{partyId}/candidates/{candidateId}:
    put:
      tags:
        - VAA/Matches
      summary: Change candidate for application and party
      description: |
        Changing a candidate for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party) and one `candidate` for itself.
      operationId: putCandidateForApplicationAndParty
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to put
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party to put
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewCandidate"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Roles.yaml#/Candidate"
          links:
            GetCandidateById:
              operationId: getCandidateForApplication
              parameters:
                applicationId: "$response.body#/id"
              description: >
                The `id` value returned in the response can be used as
                the **candidateId** parameter in `GET /applications/{applicationId}/matches/candidates/{candidateId}`.
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - VAA/Matches
      summary: Toggle candidate status
      description: |
        Toggle candidates is allowed for admins, creators ( their own application ) and trustpersons ( their own party )
      operationId: toggleCandidateForApplicationAndParty
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party to put
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/ToggleRole"
      responses:
        "200":
          description: Success
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - VAA/Matches
      summary: Delete candidate object
      description: |
        Deleting a candidate for one application is allowed for `admin`, `creator` (within his application), `trustperson` (within his party) and one `candidate` for itself.
      operationId: deleteCandidateForApplicationAndParty
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate to delete
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party to put
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"


  /applications/{applicationId}/matches/parties/{partyId}/votes:
    get:
      tags:
        - VAA/Matches
      summary: Get votes of a party
      description: |
        Fetching votes for one specific party is allowed for everyone.
      operationId: getVotingsForParty
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the election to get
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party to get
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: "schemas/Voting.yaml#/PartyVote"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - VAA/Matches
      summary: Change party votes for application
      description: |
        Changing votes for one specific party is only allowed for `trustperson` (for its own party)
      operationId: putPartyVotes
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the application to put
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the partyId to put
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Voting.yaml#/Vote"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Voting.yaml#/PartyVote"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /admins:
    get:
      tags:
        - Roles
      summary: Get admins
      description: |
        Fetching admins is allowed for admins
      operationId: getAdmins
      parameters:
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for admins email
          schema:
            type: string
            example: "admins mail"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Admins"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - Roles
      summary: Create new admin
      description: |
        Creation of admins is allowed for admins
      operationId: createAdmin
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewAdmin"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Admin"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /admins/{adminId}:
    get:
      tags:
        - Roles
      summary: Get Admin by ID
      description: |
        Fetching admins is allowed for admins
      operationId: getAdminById
      parameters:
        - in: path
          name: adminId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the admin
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Admin"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - Roles
      summary: Remove admin
      description: |
        Remove admin is allowed for admin
      operationId: deleteAdmin
      parameters:
        - in: path
          name: adminId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the admin
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /users:
    post:
      tags:
        - Roles
      summary: Create new user
      description: |
        Creation of users is allowed for admins, creators, and trustpersons
      operationId: createUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewUser"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/User"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /users/{userId}:
    get:
      tags:
        - Roles
      summary: Get User by ID
      description: |
        Fetching users is allowed for admins
      operationId: getUserById
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the user
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    put:
      tags:
        - Roles
      summary: Update user
      description: |
        Updating user is allowed for admins and the user itself.
      operationId: updateUser
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewUser"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/User"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - Roles
      summary: Change user password or mail
      description: |
        Change user password or mail
      operationId: patchUser
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/UserActionRequest"
      responses:
        "204":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
      
    delete:
      tags:
        - Roles
      summary: Remove user
      description: |
        Remove user is allowed for admin
      operationId: deleteUser
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the user
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /users/invite:
    post:
      tags:
        - Roles
      summary: Invite user
      description: |
        Inviting users is allowed for admins, creator and trustpersons
      operationId: inviteUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/InviteRequest"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/InviteResponse"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /me:
    get:
      tags:
        - Roles
      summary: Get your user profile
      description: |
        Fetching yourself is allowed for everyone for their account
      operationId: getMyself
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Me"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/roles/creator:
    get:
      tags:
        - Roles
      summary: Get creator for VAA
      description: |
        Fetching creator is allowed for admins and creator.
      operationId: getCreatorForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for creators email
          schema:
            type: string
            example: "creators mail"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Creators"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - Roles
      summary: Create new creator for VAA
      description: |
        Creation of creator is allowed for admins and creator.
      operationId: createCreatorForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewCreator"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Creator"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/roles/creator/{creatorId}:
    get:
      tags:
        - Roles
      summary: Get creator by ID for VAA
      description: |
        Fetching creator is allowed for admins and creator.
      operationId: getCreatorForApplicationById
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: creatorId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the creator
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/Creator"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - Roles
      summary: Toggle creator status
      description: |
        Toggle creator is allowed for admins
      operationId: toggleCreatorForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: creatorId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the creator
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/ToggleRole"
      responses:
        "200":
          description: Success
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - Roles
      summary: Remove creator for VAA
      description: |
        Remove creator is allowed for admins and creator (for its own application).
      operationId: deleteCreatorForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: creatorId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the creator
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/roles/trustpersons:
    get:
      tags:
        - Roles
      summary: Get trustpersons for VAA
      description: |
        Fetching trustpersons is allowed for admins and creator as well as for trustpersons for their own party.
      operationId: getTrustPersonsForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - name: limit
          in: query
          description: Limits the amount of items in the responsing array. Max results is 100.
          schema:
            type: integer
            example: 20
            default: 20
        - name: page
          in: query
          description: Sets the page offset
          schema:
            type: integer
            example: 5
            default: 1
        - name: search
          in: query
          description: Search for trustpersons email
          schema:
            type: string
            example: "trustpersons mail"
            default: ""
        - name: sort
          in: query
          description: Sort either ascending or descending all retrieving objects. Always like {attribute}|{sortingOrder} where sortingOrder can be either `asc` or `desc`
          schema:
            type: string
            example: location|desc
            default: name|asc
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/TrustPersons"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    post:
      tags:
        - Roles
      summary: Create new trustperson for VAA
      description: |
        Creation of trustperson is allowed for admins and creator as well as for trustpersons for their own party.
      operationId: createTrustPersonForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/NewTrustPerson"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/TrustPerson"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
  /applications/{applicationId}/roles/trustpersons/{trustpersonId}:
    get:
      tags:
        - Roles
      summary: Get trustperson by ID for VAA
      description: |
        Fetching trustperson by id is allowed for admins and creator.
      operationId: getTrustpersonForApplicationById
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: trustpersonId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the trustperson
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/TrustPerson"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - Roles
      summary: Toggle trustperson status
      description: |
        Toggle trustpersons is allowed for admins and creators ( their own application )
      operationId: toggleTrustpersonForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: trustpersonId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the trustperson
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/ToggleRole"
      responses:
        "200":
          description: Success
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - Roles
      summary: Remove TrustPerson for VAA
      description: |
        Remove TrustPerson is allowed for admins and creator (for its own application).
      operationId: deleteTrustPersonForApplication
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: trustpersonId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the trustperson
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      responses:
        "204":
          description: No content
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /applications/{applicationId}/matches/parties/{partyId}/trustpersons/{trustPersonId}:
    get:
      tags:
        - Roles
      summary: Get trustperson by ID for VAA and party
      description: |
        Fetching trustperson by id and party is allowed for admins and creator as well as the trustpersons for this party
      operationId: getTrustpersonForApplicationAndPartyById
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: trustpersonId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the trustperson
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Roles.yaml#/TrustPerson"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    patch: 
      tags: 
        - Roles
      summary: Toggle trustperson status
      description: |
        Toggle trustpersons is allowed for admins and creators ( their own application ) and trustpersons ( their own party )
      operationId: toggleTrustpersonForApplicationAndParty
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: trustpersonId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the trustperson
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      requestBody:
        content:
          application/json:
            schema:
              $ref: "schemas/Roles.yaml#/ToggleRole"
      responses:
        "200":
          description: Success
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
    delete:
      tags:
        - Roles
      summary: Remove TrustPerson for VAA
      description: |
        Remove TrustPerson is allowed for admins and creator (for its own application) and for trustpersons ( for its own party ).
      operationId: deleteTrustPersonForApplicationAndParty
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: trustpersonId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the trustperson
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      responses:
        "204":
          description: No content
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/custom:
    post:
      tags:
        - Action
      summary: Custom VOTO action
      description: |
        Send action request to trigger custom action
      operationId: customActionRequest
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: "schemas/Action.yaml#/ActionRequest"
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/finalize/app/{applicationId}:
    post:
      tags:
        - Action
      summary: Finalize app theses
      description: |
        Send action request to finalize app theses
      operationId: finalizeAppThesesRequest
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      security:
        - firebase: []
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/finalize/party/{partyId}:
    post:
      tags:
        - Action
      summary: Finalize party theses
      description: |
        Send action request to finalize party theses
      operationId: finalizePartyThesesRequest
      parameters:
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      security:
        - firebase: []
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/finalize/candidate/{candidateId}:
    post:
      tags:
        - Action
      summary: Finalize party theses
      description: |
        Send action request to finalize candidate theses
      operationId: finalizeCandidateThesesRequest
      parameters:
        - in: path
          name: candidateId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the candidate
      security:
        - firebase: []
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/invite/admin:
    post:
      tags:
        - Action
      summary: Invite admins
      description: |
        Send action request to invite admins
      operationId: inviteAdminRequest
      security:
        - firebase: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: "schemas/Action.yaml#/InviteRequest"
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/invite/{applicationId}/creator:
    post:
      tags:
        - Action
      summary: Invite creator
      description: |
        Send action request to invite creator
      operationId: inviteCreatorRequest
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: "schemas/Action.yaml#/InviteRequest"
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/invite/{applicationId}/trustperson:
    post:
      tags:
        - Action
      summary: Invite trustperson
      description: |
        Send action request to invite TrustPersons
      operationId: inviteTrustPersonRequest
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: "schemas/Action.yaml#/InviteRequest"
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/invite/{applicationId}/party/{partyId}/candidate:
    post:
      tags:
        - Action
      summary: Invite candidates
      description: |
        Send action request to invite candidates
      operationId: inviteCandidatesRequest
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
        - in: path
          name: partyId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the party
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: "schemas/Action.yaml#/InviteRequest"
      responses:
        "200":
          description: Success
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"

  /actions/theses/{applicationId}/standard-deviation:
    post:
      tags:
        - Action
      summary: Calculate standard deviation for app
      description: |
        Send action request to calculate standard deviation of answered theses of matches 
      operationId: calculateStandardDeviationRequest
      security:
        - firebase: []
      parameters:
        - in: path
          name: applicationId
          required: true
          schema:
            type: integer
            format: int64
          description: Numeric ID of the VAA
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "schemas/Actions.yaml#/StdDeviationAnalysis"
        "400":
          description: Malformed request
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "schemas/Error.yaml#/Error"